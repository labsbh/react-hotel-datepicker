{"version":3,"file":"index.js","sources":["../node_modules/tslib/tslib.es6.js","../src/device.ts","../src/hooks.ts","../src/Store/index.ts","../src/stories/styled.ts","../src/Day/styled.ts","../src/Day/index.tsx","../src/Month/hooks.ts","../src/Month/styled.ts","../src/Month/index.tsx","../src/Tooltip/styled.ts","../src/Tooltip/index.tsx","../src/TopBar/styled.ts","../src/TopBarFeedback/index.tsx","../src/TopBar/index.tsx","../src/Calendar/styled.ts","../src/Calendar/index.tsx","../src/stories/HotelDatepicker.tsx"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { BreakPoints } from './typings';\n\nconst size = {\n  mobileS: 320,\n  mobileM: 375,\n  mobileL: 480,\n  tablet: 768,\n  laptop: 1024,\n  laptopL: 1440,\n  desktop: 2560,\n};\n\nconst device = {\n  mobileS: `(min-width: ${size.mobileS}px)`, // S\n  mobileM: `(min-width: ${size.mobileM}px)`,\n  mobileL: `(min-width: ${size.mobileL}px)`, // M\n  tablet: `(min-width: ${size.tablet}px)`, // L\n  laptop: `(min-width: ${size.laptop}px)`,\n  laptopL: `(min-width: ${size.laptopL}px)`,\n  desktop: `(min-width: ${size.desktop}px)`,\n  desktopL: `(min-width: ${size.desktop}px)`,\n};\n\nconst breakpoints: BreakPoints = {\n  mobileS: { min: 0, max: size.mobileS },\n  mobileM: { min: size.mobileS + 1, max: size.mobileM },\n  mobileL: { min: size.mobileM + 1, max: size.mobileL },\n  tablet: { min: size.mobileL + 1, max: size.tablet },\n  laptop: { min: size.tablet + 1, max: size.laptop },\n  laptopL: { min: size.laptop + 1, max: size.laptopL },\n  desktop: { min: size.laptopL + 1, max: size.desktop },\n  desktopL: { min: size.desktop + 1, max: null },\n};\n\nexport { breakpoints, device, size };\n","import { RefObject, useEffect, useState } from 'react';\nimport { BreakPoints } from './typings';\n\nconst getWidth = (): number =>\n  typeof window === 'undefined'\n    ? 0\n    : window.innerWidth ||\n      document.documentElement.clientWidth ||\n      document.body.clientWidth;\n\nconst useOutsideListener = (\n  ref: RefObject<any>,\n  onClickOutside: () => void,\n  preventContainerClose: boolean,\n): void => {\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent): void => {\n      if (\n        !preventContainerClose &&\n        ref.current &&\n        !ref.current.contains(event.target)\n      ) {\n        onClickOutside();\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return (): void =>\n      document.removeEventListener('mousedown', handleClickOutside);\n  }, [ref, onClickOutside, preventContainerClose]);\n};\n\nconst useCurrentWidth = (): number => {\n  const [width, setWidth] = useState<number>(getWidth());\n\n  useEffect(() => {\n    let timeout: number | null = null;\n    const resizeListener = (): void => {\n      if (typeof window !== 'undefined') {\n        if (timeout) {\n          window.clearTimeout(timeout);\n        }\n        timeout = window.setTimeout(() => setWidth(getWidth()), 150);\n      }\n    };\n    window.addEventListener('resize', resizeListener);\n\n    return (): void => {\n      if (typeof window !== 'undefined') {\n        window.removeEventListener('resize', resizeListener);\n      }\n    };\n  }, []);\n\n  return width;\n};\n\nconst useBreakpoints = (breakpoints: BreakPoints): Record<string, boolean> => {\n  const width = useCurrentWidth();\n\n  return Object.keys(breakpoints).reduce((result, key) => {\n    const { min, max } = breakpoints[key];\n    result[key] = width >= min && (max === null || width <= max);\n    return result;\n  }, {} as Record<string, boolean>);\n};\n\nconst useBreakpointsUp = (\n  breakpoints: BreakPoints,\n): Record<string, boolean> => {\n  const width = useCurrentWidth();\n\n  return Object.keys(breakpoints).reduce((result, key) => {\n    const { min } = breakpoints[key];\n    result[key] = width >= min;\n    return result;\n  }, {} as Record<string, boolean>);\n};\n\nconst useBreakpointsDown = (\n  breakpoints: BreakPoints,\n): Record<string, boolean> => {\n  const width = useCurrentWidth();\n\n  return Object.keys(breakpoints).reduce((result, key) => {\n    const { max } = breakpoints[key];\n    result[key] = max === null || width <= max;\n    return result;\n  }, {} as Record<string, boolean>);\n};\n\nexport {\n  useOutsideListener,\n  useCurrentWidth,\n  useBreakpoints,\n  useBreakpointsUp,\n  useBreakpointsDown,\n};\n","/* eslint-disable @typescript-eslint/no-empty-function */\nimport { enUS } from 'date-fns/locale';\nimport { createContext } from 'react';\nimport { CalendarContext, OptionContext } from '../typings';\n\nconst defaultOptions: OptionContext = {\n  locale: enUS,\n  format: 'P',\n  startDate: new Date(),\n  endDate: false,\n  minDays: 2,\n  maxDays: 0,\n  selectForward: false,\n  disabledDates: [],\n  noCheckInDates: [],\n  noCheckOutDates: [],\n  disabledDaysOfWeek: [],\n  enableCheckout: false,\n  preventContainerClose: false,\n  hoveringTooltip: true,\n  autoClose: true,\n  showTopBar: true,\n  moveBothMonths: true,\n  onDayClick: undefined,\n  onSelectRange: undefined,\n};\n\nconst defaultCalendar: CalendarContext = {\n  start: false,\n  end: false,\n  dayHover: false,\n  setStart: (_value) => {},\n  setEnd: (_value) => {},\n  setDayHover: (_value) => {},\n};\n\nconst OptionCtx = createContext<OptionContext>(defaultOptions);\nconst CalendarCtx = createContext<CalendarContext>(defaultCalendar);\n\nexport { defaultOptions, OptionCtx, CalendarCtx };\n","import styled, { DefaultTheme } from 'styled-components';\n\nconst theme: Required<DefaultTheme> = {\n  fontFamily: \"'Helvetica', 'Helvetica Neue', 'Arial', sans-serif\",\n  animationSpeed: '0.2s',\n  calendar: {\n    backgroundColor: '#fff',\n    border: '0 none',\n    borderRadius: '5px',\n    boxShadow: '8px 8px 40px 5px rgba(0, 0, 0, 0.08)',\n    color: '#484c55',\n    fontSize: '14px',\n    lineHeight: '14px',\n    padding: '20px',\n    widths: {\n      sm: '100%',\n      md: '460px',\n      lg: '560px',\n    },\n  },\n  months: {\n    spacer: {\n      color: '#dcdcdc',\n      width: '1px',\n    },\n    table: {\n      fontSize: '12px',\n      borderColor: '#dcdcdc',\n      caption: {\n        height: '2.5rem',\n      },\n      navButton: {\n        backgroundColor: {\n          base: 'rgba(214, 218, 229, 1)',\n          hover: 'rgba(116, 107, 253, 1)',\n        },\n        textColor: {\n          base: 'rgba(157, 166, 184, 1)',\n          hover: 'rgba(255, 255, 255, 1)',\n        },\n      },\n      weekDays: {\n        height: '2rem',\n        fontSize: '11px',\n        fontWeight: '400',\n      },\n      widths: {\n        sm: '100%',\n        md: '180px',\n        lg: '230px',\n      },\n    },\n  },\n  days: {\n    textColor: '#acb2c1',\n    padding: '9px 7px',\n    selected: {\n      textColor: '#ffffff',\n      backgroundColor: {\n        base: 'rgba(116, 107, 253, 1)',\n        hover: 'rgba(116, 107, 253, 0.2)',\n      },\n    },\n    today: {\n      textColor: '#ffffff',\n      backgroundColor: '#484c55',\n    },\n    noCheckIn: {\n      textColor: '#acb2c1',\n      backgroundColor: 'rgba(255, 0, 0, 0.2)',\n    },\n    noCheckOut: {\n      textColor: '#acb2c1',\n      backgroundColor: 'rgba(255, 0, 0, 0.2)',\n    },\n    invalid: {\n      textColor: '#e8ebf4',\n      backgroundColor: 'transparent',\n    },\n    disabled: {\n      textColor: '#e8ebf4',\n      backgroundColor: 'transparent',\n      crossColor: '#ff0000',\n    },\n    dowDisabled: {\n      textColor: '#e8ebf4',\n      backgroundColor: 'rgba(232, 235, 244, 0.5)',\n    },\n  },\n  tooltip: {\n    backgroundColor: '#ffe684',\n    textColor: '#484c55',\n    borderRadius: '2px',\n    fontSize: '11px',\n    padding: '5px 10px',\n  },\n  topBar: {\n    backgroundColor: 'transparent',\n    textColor: '#acb2c1',\n    closeButton: {\n      backgroundColor: {\n        base: '#746bfd',\n        hover: '#484c55',\n      },\n      textColor: {\n        base: '#ffffff',\n        hover: '#ffffff',\n      },\n    },\n  },\n  // colors: {\n  //   background: '#fff',\n  //   textBase: '#484c55',\n  //   textLight: '#acb2c1',\n  //   lineBorder: '#dcdcdc',\n  //   button: {\n  //     background: '#d6dae5',\n  //     text: '#9da6b8',\n  //     hover: {\n  //       background: '#746bfd',\n  //       text: '#ffffff',\n  //     },\n  //   },\n  //   tooltip: '#ffe684',\n  //   checkInDisabled: '#ff0000',\n  //   checkOutDisabled: '#ff0000',\n  //   invalidDate: '#e8ebf4',\n  //   disabledDate: '#e8ebf4',\n  //   disabledCross: 'red',\n  //   selectedDate: '#746bfd',\n  // },\n};\n\nconst transition = `\n  transition-duration: 0.2s;\n  transition-property: color, background-color, border-color;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n`;\n\nconst Wrapper = styled.div`\n  position: relative;\n`;\n\nexport { theme, transition, Wrapper };\n","import styled from 'styled-components';\nimport { transition } from '../stories/styled';\n\ntype ExtendedProps = { selected: boolean; hover: boolean };\n\nconst DayWrapper = styled.td.attrs<ExtendedProps>(({ className }) => ({\n  className: `${className || ''} day`\n}))<ExtendedProps>`\n  background-color: ${(props): string =>\n    props.selected\n        ? props.theme.days.selected.backgroundColor.base\n        : props.hover\n            ? props.theme.days.selected.backgroundColor.hover\n            : 'transparent'};\n  color: ${(props): string =>\n    props.selected\n        ? props.theme.days.selected.textColor\n        : props.theme.days.textColor};\n  padding: ${(props): string => props.theme.days.padding};\n  ${transition}\n\n  &.valid {\n    cursor: pointer;\n  }\n\n  &.no-checkin {\n    color: ${(props): string => props.theme.days.noCheckIn.textColor};\n    position: relative;\n\n    &:after {\n      background-color: ${(props): string =>\n    props.theme.days.noCheckIn.backgroundColor};\n      bottom: 0;\n      content: '';\n      display: block;\n      left: 50%;\n      position: absolute;\n      right: 0;\n      top: 0;\n      z-index: -1;\n    }\n  }\n\n  &.no-checkout {\n    color: ${(props): string => props.theme.days.noCheckOut.textColor};\n    position: relative;\n\n    &:after {\n      background-color: ${(props): string =>\n    props.theme.days.noCheckOut.backgroundColor};\n      bottom: 0;\n      content: '';\n      display: block;\n      left: 0;\n      position: absolute;\n      right: 50%;\n      top: 0;\n      z-index: -1;\n    }\n  }\n\n  &.invalid {\n    background-color: ${(props): string =>\n    props.theme.days.invalid.backgroundColor};\n    color: ${(props): string => props.theme.days.invalid.textColor};\n  }\n\n  &.disabled {\n    background-color: ${(props): string =>\n    props.theme.days.disabled.backgroundColor};\n    color: ${(props): string => props.theme.days.disabled.textColor};\n    position: relative;\n\n    &:after {\n      content: '\\\\00d7';\n      left: 50%;\n      position: absolute;\n      color: ${(props): string => props.theme.days.disabled.crossColor};\n      font-size: 16px;\n      top: 50%;\n      transform: translate(-50%, -50%);\n    }\n  }\n\n  &.day-of-week-disabled {\n    background-color: ${(props): string =>\n    props.theme.days.dowDisabled.backgroundColor};\n    color: ${(props): string => props.theme.days.dowDisabled.textColor};\n  }\n\n  &.today {\n    background-color: ${(props): string =>\n    props.selected\n        ? props.theme.days.selected.backgroundColor.base\n        : props.theme.days.today.backgroundColor};\n    color: ${(props): string =>\n    props.selected\n        ? props.theme.days.selected.textColor\n        : props.theme.days.today.textColor};\n  }\n\n  &.type-lastMonth,\n  &.type-nextMonth {\n    visibility: hidden;\n  }\n`;\n\nexport { DayWrapper };\n","import clsx from 'clsx';\nimport { differenceInCalendarDays, isSameDay } from 'date-fns';\nimport React, { ReactElement, useCallback, useContext, useRef } from 'react';\nimport { CalendarCtx, OptionCtx } from '../Store';\nimport { DayProps, MonthDayInfos } from '../typings';\nimport { DayWrapper } from './styled';\n\nconst Day = (props: DayProps): ReactElement => {\n  const {\n    date,\n    type,\n    isValid,\n    isToday,\n    isDisabled,\n    isFirstDisabledDate,\n    isDayBeforeDisabledDate,\n    isStartDate,\n    isFirstEnabledDate,\n    isNoCheckIn,\n    isNoCheckOut,\n    isDayOfWeekDisabled,\n  } = props;\n  const { enableCheckout, onSelectRange, onDayClick } = useContext(OptionCtx);\n  const { start, end, dayHover, setStart, setEnd, setDayHover } =\n    useContext(CalendarCtx);\n  const classes = clsx({\n    [`type-${type}`]: true,\n    valid: isValid,\n    invalid: !isValid,\n    today: isToday,\n    disabled: isDisabled,\n    'checkout-enabled': isDisabled && enableCheckout && isFirstDisabledDate,\n    'before-disabled-date': isDayBeforeDisabledDate,\n    'checkin-only': isStartDate || isFirstEnabledDate,\n    'no-checkin': isNoCheckIn,\n    'no-checkout': isNoCheckOut,\n    'day-of-week-disable': isDayOfWeekDisabled,\n  });\n  const ref = useRef<HTMLTableDataCellElement>(null);\n\n  let isHover = false;\n\n  if (start) {\n    if (end) {\n      isHover =\n        differenceInCalendarDays(date, start) > 0 &&\n        differenceInCalendarDays(end, date) > 0;\n    } else if (dayHover && dayHover.isValid) {\n      if (start > dayHover.date) {\n        isHover =\n          dayHover &&\n          differenceInCalendarDays(date, dayHover.date) >= 0 &&\n          differenceInCalendarDays(date, start) < 0;\n      } else {\n        isHover =\n          dayHover &&\n          differenceInCalendarDays(date, dayHover.date) <= 0 &&\n          differenceInCalendarDays(date, start) > 0;\n      }\n    }\n  }\n\n  const handleDayClick = useCallback(\n    (day: MonthDayInfos, isNoCheckIn: boolean, isNoCheckOut: boolean): void => {\n      if (!day.isValid) {\n        return;\n      }\n      let _start = !start ? start : new Date(start.valueOf());\n      let _end = !end ? end : new Date(end.valueOf());\n      const isSelectStart = (_start && _end) || (!_start && !_end);\n      if (isSelectStart) {\n        if (isNoCheckIn) {\n          return;\n        }\n        _start = day.date;\n        _end = false;\n        onDayClick && onDayClick(day.date);\n      } else if (_start) {\n        if (isNoCheckOut || isSameDay(_start, date)) {\n          return;\n        }\n        _end = day.date;\n        onDayClick && onDayClick(day.date);\n      }\n\n      if (_start && _end && _start > _end) {\n        const tmp = _end;\n        _end = _start;\n        _start = tmp;\n      }\n\n      setStart(_start);\n      setEnd(_end);\n      if (_start && _end) {\n        setDayHover(false);\n        onSelectRange && onSelectRange(_start, _end);\n      }\n    },\n    [start, end, setStart, setEnd, onDayClick, date, setDayHover, onSelectRange],\n  );\n\n  const handleDayHover = useCallback(\n    (day: MonthDayInfos) => {\n      if (!ref) {\n        return;\n      }\n      if (!start || (start && end)) {\n        setDayHover(false);\n      }\n      setDayHover({ ...day, ref });\n    },\n    [start, end, setDayHover],\n  );\n\n  return (\n    <DayWrapper\n      selected={\n        (start && isSameDay(start, date)) || (end && isSameDay(end, date))\n      }\n      hover={isHover}\n      className={classes}\n      onClick={(): any => handleDayClick(props, isNoCheckIn, isNoCheckOut)}\n      onMouseEnter={(): any => {\n        return isValid ? handleDayHover(props) : null;\n      }}\n      ref={ref}\n    >\n      {date.getDate()}\n    </DayWrapper>\n  );\n};\n\nexport default Day;\n","import {\n  addDays,\n  differenceInCalendarDays,\n  differenceInMilliseconds,\n  format as formatDate,\n  isSameDay,\n  isSameMonth,\n  startOfMonth,\n  subDays,\n} from 'date-fns';\nimport { useCallback, useContext } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { CalendarCtx, OptionCtx } from '../Store';\nimport { DayMonthType, DayOfMonth } from '../typings';\n\nlet consecutiveDisableDates = 0;\nlet lastDisabledDate: Date | undefined;\n\nconst useClosest = (): ((_date: Date) => [Date | false, Date | false]) => {\n  const { disabledDates, enableCheckout } = useContext(OptionCtx);\n  return useCallback(\n    (date: Date) => {\n      let dates: [Date | false, Date | false] = [false, false];\n      if (date < disabledDates[0]) {\n        dates = [false, addDays(disabledDates[0], enableCheckout ? 1 : 0)];\n      } else if (date > disabledDates[disabledDates.length - 1]) {\n        dates = [disabledDates[disabledDates.length - 1], false];\n      } else {\n        let bestPrevDate = disabledDates.length;\n        let bestNextDate = disabledDates.length;\n        const maxDateValue = Math.abs(new Date(0, 0, 0).valueOf());\n        let bestPrevDiff = maxDateValue;\n        let bestNextDiff = -maxDateValue;\n\n        for (let i = 0; i < disabledDates.length; ++i) {\n          const currentDiff = differenceInMilliseconds(date, disabledDates[i]);\n          if (currentDiff < 0 && currentDiff > bestNextDiff) {\n            bestNextDate = i;\n            bestNextDiff = currentDiff;\n          }\n\n          if (currentDiff > 0 && currentDiff < bestPrevDiff) {\n            bestPrevDate = i;\n            bestPrevDiff = currentDiff;\n          }\n        }\n\n        if (disabledDates[bestPrevDiff]) {\n          dates[0] = disabledDates[bestPrevDiff];\n        }\n\n        if (typeof disabledDates[bestPrevDate] === 'undefined') {\n          dates[1] = false;\n        } else {\n          dates[1] = addDays(\n            disabledDates[bestNextDate],\n            enableCheckout ? 1 : 0,\n          );\n        }\n      }\n\n      return dates;\n    },\n    [disabledDates, enableCheckout],\n  );\n};\n\nconst useIsValidDate = (): ((time: Date) => boolean) => {\n  const getClosest = useClosest();\n  const { startDate, endDate, maxDays, minDays, selectForward, disabledDates } =\n    useContext(OptionCtx);\n  const { start, end } = useContext(CalendarCtx);\n  return useCallback(\n    (time: Date): boolean => {\n      if (\n        (startDate && differenceInCalendarDays(time, startDate) < 0) ||\n        (endDate && differenceInCalendarDays(time, endDate) > 0)\n      ) {\n        return false;\n      }\n\n      if (start && !end) {\n        const diff = Math.abs(differenceInCalendarDays(time, start));\n        if (\n          (maxDays > 0 && diff > maxDays - 1) ||\n          (minDays > 0 && !isSameDay(time, start) && diff < minDays - 1)\n        ) {\n          return false;\n        }\n        if (selectForward && time < start) {\n          return false;\n        }\n        if (disabledDates.length > 0) {\n          const limit = getClosest(start);\n          if (limit[0] && differenceInCalendarDays(time, limit[0]) <= 0) {\n            return false;\n          }\n          if (limit[1] && differenceInCalendarDays(time, limit[1]) >= 0) {\n            return false;\n          }\n        }\n      }\n\n      return true;\n    },\n    [startDate, endDate, start, end, maxDays, minDays, selectForward, disabledDates.length, getClosest],\n  );\n};\n\nconst useDayProperties = (): ((\n  date: Date,\n  type: DayMonthType,\n) => DayOfMonth) => {\n  const {\n    startDate,\n    disabledDates,\n    selectForward,\n    minDays,\n    enableCheckout,\n    disabledDaysOfWeek,\n    noCheckInDates,\n    noCheckOutDates,\n  } = useContext(OptionCtx);\n  const { t } = useTranslation('hoteldatepicker');\n  const isValidDate = useIsValidDate();\n  const getClosest = useClosest();\n\n  return useCallback(\n    (date: Date, type: DayMonthType): DayOfMonth => {\n      const isToday = differenceInCalendarDays(date, new Date()) === 0;\n      const isStartDate = startDate ? isSameDay(date, startDate) : false;\n      let isValid = isValidDate(date);\n      let isDayBeforeDisabledDate = false;\n      let isDisabled = false;\n      let isFirstEnabledDate = false;\n      let isDayOfWeekDisabled = false;\n      let isNoCheckIn = false;\n      let isNoCheckOut = false;\n      if (isValid || type === 'visibleMonth') {\n        if (disabledDates.length > 0) {\n          const limit = getClosest(date);\n          if (limit[0] && limit[1]) {\n            if (\n              !isSameDay(date, limit[0]) &&\n              Math.abs(differenceInCalendarDays(limit[1], limit[0])) > 2\n            ) {\n              const daysBeforeNextDisabledDate =\n                differenceInCalendarDays(limit[1], date) - 1;\n              const daysAfterPreviousDisabledDate =\n                differenceInCalendarDays(date, limit[0]) - 1;\n              if (selectForward && daysBeforeNextDisabledDate < minDays) {\n                isValid = false;\n              } else if (\n                !selectForward &&\n                daysBeforeNextDisabledDate < minDays &&\n                daysAfterPreviousDisabledDate < minDays\n              ) {\n                isValid = false;\n              }\n\n              if (\n                !isValid &&\n                enableCheckout &&\n                daysBeforeNextDisabledDate === 2\n              ) {\n                isDayBeforeDisabledDate = true;\n              }\n            }\n          }\n\n          const isDisabledDate =\n            disabledDates.findIndex((disabledDate) =>\n              isSameDay(disabledDate, date),\n            ) !== -1;\n          if (isDisabledDate) {\n            isValid = false;\n            isDisabled = true;\n            consecutiveDisableDates++;\n            lastDisabledDate = date;\n          } else {\n            consecutiveDisableDates = 0;\n          }\n\n          if (\n            isValid &&\n            lastDisabledDate &&\n            Math.abs(differenceInCalendarDays(date, lastDisabledDate)) === 2\n          ) {\n            isFirstEnabledDate = true;\n          }\n        }\n\n        if (\n          disabledDaysOfWeek.indexOf(parseInt(formatDate(date, 'i'), 10) - 1) >\n          -1\n        ) {\n          isValid = false;\n          isDayOfWeekDisabled = true;\n        }\n\n        if (\n          noCheckInDates.findIndex((noCheckInDate) =>\n            isSameDay(noCheckInDate, date),\n          ) > -1\n        ) {\n          isNoCheckIn = true;\n          isFirstEnabledDate = false;\n        }\n\n        if (\n          noCheckOutDates.findIndex((noCheckOutDate) =>\n            isSameDay(noCheckOutDate, date),\n          ) > -1\n        ) {\n          isNoCheckOut = true;\n          isFirstEnabledDate = false;\n        }\n      }\n\n      let title = '';\n      if (isNoCheckIn) {\n        title = t('hoteldatepicker:checkin-disabled');\n      }\n\n      if (isNoCheckOut) {\n        if (title) {\n          title += '. ';\n        }\n        title = t('hoteldatepicker:checkout-disabled');\n      }\n\n      return {\n        date,\n        title,\n        type,\n        isValid,\n        isToday,\n        isStartDate,\n        isDayBeforeDisabledDate,\n        isDisabled,\n        isFirstEnabledDate,\n        isDayOfWeekDisabled,\n        isNoCheckIn,\n        isNoCheckOut,\n        isFirstDisabledDate: consecutiveDisableDates === 1,\n      };\n    },\n    [startDate, isValidDate, disabledDates, disabledDaysOfWeek, noCheckInDates, noCheckOutDates, getClosest, selectForward, minDays, enableCheckout, t],\n  );\n};\n\nconst useDays = (month: Date): Array<DayOfMonth> => {\n  const { locale } = useContext(OptionCtx);\n  const getDayProperties = useDayProperties();\n\n  const days: Array<DayOfMonth> = [];\n  const _month = startOfMonth(month);\n  const dayOfWeek =\n    _month.getDay() === 0 && locale.options?.weekStartsOn === 1\n      ? 7\n      : _month.getDay();\n\n  for (let i = dayOfWeek; i > 0; i--) {\n    const day = subDays(_month, i);\n    days.push(getDayProperties(day, 'lastMonth'));\n  }\n\n  for (let i = 0; i < 40; i++) {\n    const day = addDays(_month, i);\n    days.push(\n      getDayProperties(\n        day,\n        isSameMonth(day, month) ? 'visibleMonth' : 'nextMonth',\n      ),\n    );\n  }\n\n  return days;\n};\n\nexport { useDays };\n","import { device } from '../device';\nimport { transition } from '../stories/styled';\nimport styled from 'styled-components';\n\nconst MonthTable = styled.table<{ first: boolean }>`\n  border-collapse: collapse;\n  display: ${(props): string => (props.first ? 'table' : 'none')};\n  font-size: ${(props): string => props.theme.months.table.fontSize};\n  position: relative;\n  text-align: center;\n  width: ${(props): string => props.theme.months.table.widths.sm};\n\n  @media only screen and ${device.mobileL} {\n    display: table;\n    float: ${(props): string => (props.first ? 'left' : 'right')};\n    width: ${(props): string => props.theme.months.table.widths.md};\n  }\n\n  @media only screen and ${device.tablet} {\n    width: ${(props): string => props.theme.months.table.widths.lg};\n  }\n`;\n\nconst Caption = styled.tr`\n  border-bottom: 1px solid\n    ${(props): string => props.theme.months.table.borderColor};\n  height: ${(props): string => props.theme.months.table.caption.height};\n  vertical-align: middle;\n`;\n\nconst NavButton = styled.span`\n  background-color: ${(props): string =>\n    props.theme.months.table.navButton.backgroundColor.base};\n  border-radius: 4px;\n  color: ${(props): string =>\n    props.theme.months.table.navButton.textColor.base};\n  cursor: pointer;\n  display: inline-block;\n  padding: 5px 10px;\n  ${transition}\n\n  &:hover {\n    background-color: ${(props): string =>\n      props.theme.months.table.navButton.backgroundColor.hover};\n    color: ${(props): string =>\n      props.theme.months.table.navButton.textColor.hover};\n  }\n`;\n\nconst MonthName = styled.th`\n  text-transform: uppercase;\n`;\n\nconst WeekDays = styled.tr`\n  height: ${(props): string => props.theme.months.table.weekDays.height};\n  vertical-align: middle;\n`;\n\nconst WeekDayName = styled.th`\n  font-size: ${(props): string => props.theme.months.table.weekDays.fontSize};\n  font-weight: ${(props): string => props.theme.months.table.weekDays.fontSize};\n  text-transform: uppercase;\n`;\n\nexport { Caption, MonthName, MonthTable, NavButton, WeekDayName, WeekDays };\n","import { addMonths, format as formatDate, isSameMonth, subMonths, } from 'date-fns';\nimport React, { ReactElement, useCallback, useContext } from 'react';\nimport MonthDay from '../Day';\nimport { useDays } from '../Month/hooks';\nimport { OptionCtx } from '../Store';\nimport { MonthProps } from '../typings';\nimport { Caption, MonthName, MonthTable, NavButton, WeekDayName, WeekDays, } from './styled';\n\nconst Month = ({\n  first,\n  date,\n  goToNextMonth,\n  goToPreviousMonth,\n  nextMonth,\n  previousMonth,\n}: MonthProps): ReactElement => {\n  const { locale, endDate, startDate, moveBothMonths } = useContext(OptionCtx);\n  const days = useDays(date);\n\n  const getWeekDayNames = useCallback(\n    () =>\n      Array.from(Array(7).keys()).map((day) => (\n        <WeekDayName key={`day-name-${day}`}>\n          {locale.localize?.day(\n            (day + (locale.options?.weekStartsOn || 0)) % 7,\n            {\n              width: 'abbreviated',\n            },\n          )}\n        </WeekDayName>\n      )),\n    [locale],\n  );\n\n  const getMonthName = useCallback(\n    (date: Date) =>\n      date ? `${formatDate(date, 'LLLL yyyy', { locale })}` : '',\n    [locale],\n  );\n\n  const isMonthOutOfRange = useCallback(\n    (month: Date): boolean => {\n      const isSameAsPrevious =\n        undefined === previousMonth || !isSameMonth(previousMonth, month);\n      const isSameAsNext =\n        undefined === nextMonth || !isSameMonth(nextMonth, month);\n      return (\n        (startDate &&\n          new Date(month.getFullYear(), month.getMonth() + 1, 0, 23, 59, 59) <\n            startDate) ||\n        (endDate &&\n          new Date(month.getFullYear(), month.getMonth(), 1) > endDate) ||\n        !isSameAsPrevious ||\n        !isSameAsNext\n      );\n    },\n    [startDate, endDate, previousMonth, nextMonth],\n  );\n\n  const showPrevious =\n    moveBothMonths && (undefined !== previousMonth || undefined !== nextMonth)\n      ? first && !isMonthOutOfRange(subMonths(date, 1))\n      : !isMonthOutOfRange(subMonths(date, 1));\n  const showNext =\n    moveBothMonths && (undefined !== previousMonth || undefined !== nextMonth)\n      ? !first && !isMonthOutOfRange(addMonths(date, 1))\n      : !isMonthOutOfRange(addMonths(date, 1));\n\n  return (\n    <MonthTable first={first}>\n      <thead>\n        <Caption>\n          <th>\n            {showPrevious && (\n              <NavButton onClick={goToPreviousMonth}>&lt;</NavButton>\n            )}\n          </th>\n          <MonthName colSpan={5}>{getMonthName(date)}</MonthName>\n          <th>\n            {showNext && <NavButton onClick={goToNextMonth}>&gt;</NavButton>}\n          </th>\n        </Caption>\n        <WeekDays>{getWeekDayNames()}</WeekDays>\n      </thead>\n      <tbody>\n        {date &&\n          Array.from(Array(6).keys()).map((week): ReactElement | null => {\n            if (\n              undefined === days[week * 7] ||\n              days[week * 7].type === 'nextMonth'\n            ) {\n              return null;\n            }\n\n            return (\n              <tr key={`week-${week}`}>\n                {Array.from(Array(7).keys()).map((weekDay) => {\n                  const day =\n                    days[\n                      week * 7 + (weekDay + (locale.options?.weekStartsOn || 0))\n                    ];\n\n                  return <MonthDay key={`${week}-${weekDay}`} {...day} />;\n                })}\n              </tr>\n            );\n          })}\n      </tbody>\n    </MonthTable>\n  );\n};\n\nexport default Month;\n","import styled from 'styled-components';\n\nconst TooltipWrapper = styled.div`\n  background-color: ${(props): string => props.theme.tooltip.backgroundColor};\n  border-radius: ${(props): string => props.theme.tooltip.borderRadius};\n  color: ${(props): string => props.theme.tooltip.textColor};\n  font-size: ${(props): string => props.theme.tooltip.fontSize};\n  margin-top: -5px;\n  padding: ${(props): string => props.theme.tooltip.padding};\n  position: absolute;\n  transform: translateY(-100%) translateX(-50%);\n  white-space: nowrap;\n\n  &:after {\n    border-left: 4px solid transparent;\n    border-right: 4px solid transparent;\n    border-top: 4px solid\n      ${(props): string => props.theme.tooltip.backgroundColor};\n    bottom: -4px;\n    content: '';\n    left: 50%;\n    margin-left: -4px;\n    position: absolute;\n  }\n`;\n\nexport { TooltipWrapper };\n","import { differenceInCalendarDays } from 'date-fns';\nimport React, { ReactElement, useContext, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { CalendarCtx, OptionCtx } from '../Store';\nimport { TooltipWrapper } from './styled';\n\nconst Tooltip = (): ReactElement | null => {\n  const { t } = useTranslation('hoteldatepicker');\n  const { hoveringTooltip: hoveringTooltipOption } = useContext(OptionCtx);\n  const { start, end, dayHover } = useContext(CalendarCtx);\n  const [hoveringTooltip] = useState(\n    hoveringTooltipOption &&\n      !(\n        (typeof window !== 'undefined' && 'ontouchstart' in window) ||\n        typeof navigator === 'undefined' ||\n        navigator.maxTouchPoints > 0 ||\n        (navigator as any).msMaxTouchPoints > 0\n      ),\n  );\n\n  if (!hoveringTooltip || !dayHover || !start || end) {\n    return null;\n  }\n\n  const nightCount =\n    start && dayHover\n      ? Math.abs(differenceInCalendarDays(dayHover.date, start))\n      : 0;\n\n  if (nightCount <= 0) {\n    return null;\n  }\n\n  let top = 0;\n  let left = 0;\n  if (dayHover.ref.current) {\n    const { offsetLeft, offsetTop, offsetWidth } = dayHover.ref.current;\n    const parent = dayHover.ref.current.closest('table');\n    const { offsetLeft: parentLeft, offsetTop: parentTop } = parent || {\n      offsetLeft: 0,\n      offsetTop: 0,\n    };\n    top = parentTop + offsetTop;\n    left = parentLeft + offsetLeft + offsetWidth / 2;\n  }\n\n  return (\n    <TooltipWrapper style={{ left, top }}>\n      {typeof hoveringTooltipOption === 'function'\n        ? hoveringTooltipOption(nightCount, start, dayHover.date)\n        : t('hoteldatepicker:night', { count: nightCount })}\n    </TooltipWrapper>\n  );\n};\n\nexport default Tooltip;\n","import styled from 'styled-components';\nimport { device } from '../device';\nimport { transition } from '../stories/styled';\n\nconst Wrapper = styled.div`\n  align-items: start;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20px;\n  position: relative;\n`;\n\nconst Info = styled.div`\n  font-size: 11px;\n  text-transform: uppercase;\n`;\n\nconst InfoLabel = styled.span`\n  color: ${(props): string => props.theme.topBar.textColor};\n`;\n\nconst InfoText = styled.span`\n  font-size: 13px;\n\n  &.start-day,\n  &.end-day {\n    font-weight: bold;\n  }\n`;\n\nconst Text = styled.div``;\n\nconst CloseButton = styled.button`\n  background-color: ${(props): string =>\n    props.theme.topBar.closeButton.backgroundColor.base};\n  border-radius: 4px;\n  border: none;\n  box-shadow: none;\n  cursor: pointer;\n  font-size: 10px;\n  color: ${(props): string => props.theme.topBar.closeButton.textColor.base};\n  padding: 7px 13px;\n  text-decoration: none;\n  text-shadow: none;\n  text-transform: uppercase;\n  ${transition}\n\n  &:hover {\n    background-color: ${(props): string =>\n      props.theme.topBar.closeButton.backgroundColor.hover};\n    color: ${(props): string => props.theme.topBar.closeButton.textColor.hover};\n  }\n\n  @media only screen and ${device.mobileL} {\n    margin-top: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n  }\n`;\n\nexport { CloseButton, Info, InfoLabel, InfoText, Text, Wrapper };\n","import React, { ReactElement, useContext } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { CalendarCtx, OptionCtx } from '../Store';\n\nconst TopBarFeedback = (): ReactElement | null => {\n  const { t } = useTranslation('hoteldatepicker');\n  const { minDays, maxDays } = useContext(OptionCtx);\n  const { start, end } = useContext(CalendarCtx);\n\n  if (start && end) {\n    return null;\n  }\n\n  let text = t('hoteldatepicker:infoDefault');\n  if (minDays && maxDays) {\n    text = t('hoteldatepicker:infoRange', { min: minDays - 1, max: maxDays - 1 });\n  } else if (minDays) {\n    text = t('hoteldatepicker:infoMore', { count: minDays - 1 });\n  }\n\n  return <div>{text}</div>;\n};\n\nexport default TopBarFeedback;\n","import { differenceInCalendarDays, format as formatDate } from 'date-fns';\nimport React, { ReactElement, useContext } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { CalendarCtx, OptionCtx } from '../Store';\nimport { CloseButton, Info, InfoLabel, InfoText, Text, Wrapper, } from '../TopBar/styled';\nimport TopBarFeedback from '../TopBarFeedback';\nimport { TopBarProps } from '../typings';\n\nconst TopBar = ({ handleClose }: TopBarProps): ReactElement => {\n  const { t } = useTranslation('hoteldatepicker');\n  const { start, end } = useContext(CalendarCtx);\n  const { format, locale } = useContext(OptionCtx);\n  const nightCount = start && end ? differenceInCalendarDays(end, start) : 0;\n  return (\n    <Wrapper>\n      <Text>\n        {start && (\n          <Info>\n            <InfoLabel>{t('hoteldatepicker:selected')}&nbsp;</InfoLabel>\n            <InfoText className=\"start-day\">\n              {formatDate(start, format, { locale })}\n            </InfoText>\n            <InfoText> - </InfoText>\n            <InfoText className=\"end-day\">\n              {end ? formatDate(end, format) : '...'}\n            </InfoText>\n            {end && (\n              <InfoText className=\"selected-days\">\n                ({t('hoteldatepicker:night', { count: nightCount })})\n              </InfoText>\n            )}\n          </Info>\n        )}\n        <TopBarFeedback />\n      </Text>\n      <CloseButton onClick={handleClose}>{t('hoteldatepicker:button')}</CloseButton>\n    </Wrapper>\n  );\n};\n\nexport default TopBar;\n","import { device } from '../device';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.section`\n  background-color: ${(props): string => props.theme.calendar.backgroundColor};\n  border: ${(props): string => props.theme.calendar.border};\n  border-radius: ${(props): string => props.theme.calendar.borderRadius};\n  box-shadow: ${(props): string => props.theme.calendar.boxShadow};\n  box-sizing: border-box;\n  color: ${(props): string => props.theme.calendar.color};\n  display: none;\n  font-family: ${(props): string => props.theme.fontFamily};\n  font-size: ${(props): string => props.theme.calendar.fontSize};\n  height: auto;\n  left: 0;\n  line-height: ${(props): string => props.theme.calendar.lineHeight};\n  overflow: hidden;\n  position: absolute;\n  transition: transform ${(props): string => props.theme.animationSpeed} ease;\n  transform: scaleY(1);\n  transform-origin: 50% 0;\n  width: ${(props): string => props.theme.calendar.widths.sm};\n  z-index: 1;\n\n  @media only screen and ${device.mobileL} {\n    width: ${(props): string => props.theme.calendar.widths.md};\n  }\n\n  @media only screen and ${device.tablet} {\n    width: ${(props): string => props.theme.calendar.widths.lg};\n  }\n\n  &.closed {\n    transform: scaleY(0);\n  }\n\n  &.rendered {\n    display: block;\n  }\n`;\n\nconst DatePickerInner = styled.div`\n  overflow: hidden;\n  padding: ${(props): string => props.theme.calendar.padding};\n`;\n\nconst Months = styled.div`\n  @media only screen and ${device.mobileL} {\n    overflow: visible;\n    position: relative;\n\n    &:before {\n      background: ${(props): string => props.theme.months.spacer.color};\n      bottom: 0;\n      content: '';\n      display: block;\n      left: 50%;\n      position: absolute;\n      top: 0;\n      width: ${(props): string => props.theme.months.spacer.width};\n    }\n    &:after {\n      clear: both;\n      content: '';\n      display: block;\n    }\n  }\n`;\n\nexport { DatePickerInner, Months, Wrapper };\n","import clsx from 'clsx';\nimport { addMonths, differenceInCalendarMonths, startOfMonth, subMonths, } from 'date-fns';\nimport React, { ReactElement, useContext, useEffect, useState } from 'react';\nimport { breakpoints } from '../device';\nimport { useBreakpointsUp } from '../hooks';\nimport Month from '../Month';\nimport { CalendarCtx, OptionCtx } from '../Store';\nimport Tooltip from '../Tooltip';\nimport TopBar from '../TopBar';\nimport { CalendarProps } from '../typings';\nimport { DatePickerInner, Months, Wrapper } from './styled';\n\nconst Calendar = ({ handleClose, isOpen }: CalendarProps): ReactElement => {\n    const responsive = useBreakpointsUp(breakpoints);\n    const { laptop } = responsive;\n    const { showTopBar, startDate, endDate, moveBothMonths } =\n        useContext(OptionCtx);\n\n    const { start, end } = useContext(CalendarCtx);\n\n    const [firstMonth, setFirstMonth] = useState<Date>(start ? start : startDate ? startDate : new Date());\n    const [secondMonth, setSecondMonth] = useState<Date>(end ? end : start ? addMonths(start, 1) : addMonths(startDate ? startDate : new Date(), 1));\n    const [isRender, setIsRender] = useState(false);\n\n    useEffect(() => {\n        let defaultStart = start ? start : new Date();\n        let defaultEnd = end ? end : new Date();\n        if (startDate && differenceInCalendarMonths(defaultStart, startDate) < 0) {\n            defaultStart = new Date(startDate.getTime());\n        }\n\n        if (\n            endDate &&\n            differenceInCalendarMonths(addMonths(defaultEnd, 1), endDate) > 0\n        ) {\n            defaultEnd = new Date(subMonths(endDate, 1));\n        }\n\n        setFirstMonth(defaultStart);\n        setSecondMonth(addMonths(defaultEnd, 1));\n    }, [startDate, start, endDate, end]);\n\n    useEffect(() => {\n        if (startOfMonth(firstMonth) >= startOfMonth(secondMonth)) {\n            setSecondMonth(addMonths(firstMonth, 1));\n        }\n    }, [firstMonth, secondMonth]);\n\n    useEffect(() => {\n        setIsRender(true);\n    }, []);\n\n    const classes = clsx({ closed: !isOpen, rendered: isRender });\n\n    return (\n        <React.Fragment>\n            <Wrapper className={classes}>\n                <DatePickerInner>\n                    {showTopBar && <TopBar handleClose={handleClose} />}\n                    <Months>\n                        <Month\n                            first\n                            date={firstMonth}\n                            nextMonth={laptop ? secondMonth : undefined}\n                            goToPreviousMonth={(): void => {\n                                setFirstMonth(subMonths(firstMonth, 1));\n                                if (moveBothMonths) {\n                                    setSecondMonth(subMonths(secondMonth, 1));\n                                }\n                            }}\n                            goToNextMonth={(): void => {\n                                setFirstMonth(addMonths(firstMonth, 1));\n                                if (moveBothMonths) {\n                                    setSecondMonth(addMonths(secondMonth, 1));\n                                }\n                            }}\n                        />\n                        <Month\n                            first={false}\n                            date={secondMonth}\n                            previousMonth={firstMonth}\n                            goToPreviousMonth={(): void => {\n                                setSecondMonth(subMonths(secondMonth, 1));\n                                if (moveBothMonths) {\n                                    setFirstMonth(subMonths(firstMonth, 1));\n                                }\n                            }}\n                            goToNextMonth={(): void => {\n                                setSecondMonth(addMonths(secondMonth, 1));\n                                if (moveBothMonths) {\n                                    setFirstMonth(addMonths(firstMonth, 1));\n                                }\n                            }}\n                        />\n                        <Tooltip />\n                    </Months>\n                </DatePickerInner>\n            </Wrapper>\n        </React.Fragment>\n    );\n};\n\nexport default Calendar;\n","import {\n    addDays,\n    closestTo,\n    differenceInDays,\n    eachDayOfInterval,\n    format as dateFormat,\n    isAfter,\n    subDays,\n} from 'date-fns';\nimport _ from 'lodash';\nimport * as React from 'react';\nimport { forwardRef, ReactElement, useCallback, useImperativeHandle, useRef, useState } from 'react';\nimport { DefaultTheme, ThemeProvider } from 'styled-components';\nimport Calendar from '../Calendar';\nimport { useOutsideListener } from '../hooks';\nimport { CalendarCtx, defaultOptions, OptionCtx } from '../Store';\nimport {\n    CalendarContext,\n    DayHover,\n    HotelDatepickerProps,\n    HotelDatepickerRef,\n    InputElementProps,\n    OptionContext,\n} from '../typings';\nimport { theme as defaultTheme, Wrapper } from './styled';\n\nconst DefaultInput = ({ value, onClick }: InputElementProps): ReactElement =>\n    <input value={value} onClick={onClick} readOnly />;\n\n// noinspection JSIgnoredPromiseFromCall\nconst HotelDatepicker = forwardRef<HotelDatepickerRef, Partial<HotelDatepickerProps>>(\n    (props: Partial<HotelDatepickerProps>, ref): ReactElement => {\n        const defaults: HotelDatepickerProps = {\n            ...defaultOptions,\n            minNights: 1,\n            maxNights: 0,\n            onOpenDatepicker: undefined,\n            disabledDatesBetweenChecks: true,\n            theme: defaultTheme,\n            inputElement: DefaultInput,\n        };\n        const propsWithDefault: HotelDatepickerProps = _.defaultsDeep({ ...props }, defaults);\n        const {\n            inputElement,\n            onOpenDatepicker,\n            minNights,\n            maxNights,\n            theme,\n            defaultValue,\n            disabledDatesBetweenChecks,\n            disabledDates,\n            locale,\n            ...contextProps\n        } = propsWithDefault;\n        const [start, setStart] = useState<Date | false>(\n            defaultValue?.start || false,\n        );\n        const [end, setEnd] = useState<Date | false>(defaultValue?.end || false);\n        const [dayHover, setDayHover] = useState<DayHover | false>(false);\n        const [isOpen, setIsOpen] = useState(false);\n\n        const minDays = minNights > 1 ? minNights + 1 : 2;\n        const maxDays = maxNights > 0 ? maxNights + 1 : 0;\n\n        if (disabledDatesBetweenChecks) {\n            contextProps.noCheckInDates\n                .sort((a: Date, b: Date) => a.getTime() - b.getTime())\n                .forEach((checkIn: Date) => {\n                    const nextCheckout = closestTo(\n                        checkIn,\n                        contextProps.noCheckOutDates.filter((date: Date) =>\n                            isAfter(date, checkIn),\n                        ),\n                    );\n                    if (nextCheckout && differenceInDays(nextCheckout, checkIn) > 1) {\n                        disabledDates.push(\n                            ...eachDayOfInterval({\n                                start: addDays(checkIn, 1),\n                                end: subDays(nextCheckout, 1),\n                            }),\n                        );\n                    }\n                });\n        }\n\n        const optionContext: OptionContext = {\n            ...contextProps,\n            disabledDates: disabledDates.sort((a: Date, b: Date) => a.getTime() - b.getTime()),\n            minDays,\n            maxDays,\n            locale,\n        };\n\n        const { preventContainerClose, format, showTopBar, onSelectRange } = optionContext;\n\n        const calendarContext: CalendarContext = {\n            start,\n            end,\n            dayHover,\n            setStart: (value: Date | false): void => setStart(value),\n            setEnd: (value: Date | false): void => {\n                setEnd(value);\n                if (start && value && contextProps.autoClose) {\n                    setIsOpen(false);\n                }\n            },\n            setDayHover: (value: DayHover | false): void => setDayHover(value),\n        };\n\n        const wrapperRef = useRef<HTMLDivElement>(null);\n        useOutsideListener(\n            wrapperRef,\n            () => setIsOpen(false),\n            preventContainerClose && showTopBar,\n        );\n\n        const mergedTheme: DefaultTheme = _.defaultsDeep(theme, defaultTheme);\n\n        useImperativeHandle(\n            ref,\n            () => {\n                return {\n                    clear: (): void => {\n                        setStart(false);\n                        setEnd(false);\n                        setDayHover(false);\n                        onSelectRange && onSelectRange(false, false);\n                    },\n                };\n            },\n            [onSelectRange],\n        );\n\n        const handleInputClick = useCallback(() => {\n            setIsOpen(true);\n            onOpenDatepicker && onOpenDatepicker();\n        }, [onOpenDatepicker]);\n\n        let Input = inputElement;\n\n        return (\n                <ThemeProvider theme={mergedTheme}>\n                    <OptionCtx.Provider value={optionContext}>\n                        <CalendarCtx.Provider value={calendarContext}>\n                            <Wrapper ref={wrapperRef}>\n                                <Input onClick={handleInputClick} value={start && end\n                                    ? `${dateFormat(start, format, {\n                                        locale: locale,\n                                    })} - ${dateFormat(end, format, {\n                                        locale: locale,\n                                    })}`\n                                    : ''} />\n                                <Calendar\n                                    handleClose={() => setIsOpen(false)}\n                                    isOpen={isOpen}\n                                />\n                            </Wrapper>\n                        </CalendarCtx.Provider>\n                    </OptionCtx.Provider>\n                </ThemeProvider>\n        );\n    },\n);\n\nexport default HotelDatepicker;\n"],"names":["useEffect","useState","enUS","createContext","Wrapper","styled","useContext","clsx","useRef","differenceInCalendarDays","useCallback","isSameDay","_jsx","addDays","differenceInMilliseconds","useTranslation","formatDate","startOfMonth","subDays","isSameMonth","subMonths","addMonths","_jsxs","MonthDay","differenceInCalendarMonths","React","forwardRef","defaultTheme","_","theme","closestTo","isAfter","differenceInDays","eachDayOfInterval","useImperativeHandle","ThemeProvider","dateFormat"],"mappings":"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"}